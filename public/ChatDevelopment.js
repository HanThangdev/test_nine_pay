function _0xa0f2() {
  const _0x2c4bb1 = [
    'now',
    'session_id',
    '.chatbox__button',
    'Content-Type',
    'toggleState',
    '34439328eXlaAl',
    'updateHeader',
    'slice',
    '.chatbox__support',
    '60px',
    'onSendButton',
    'generateUUID',
    'addEventListener',
    'Enter',
    'width',
    'getBotWidgetSettingUrl',
    'appendChild',
    '2iJXCNn',
    '.close__button',
    'sender_type',
    'className',
    'length',
    'createElement',
    'GET',
    'push',
    'textContent',
    'isNotClicked',
    '.chatbot__suggest--item',
    'sleep',
    'style',
    'append',
    'content',
    '80px',
    '<div\x20class=\x22close__button\x22><svg\x20fill=\x22#E04F5F\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2226\x22\x20height=\x2226\x22\x20viewBox=\x220\x200\x2024\x2024\x22>\x20<g>\x20<path\x20fill=\x22none\x22\x20d=\x22M0\x200h24v24H0z\x22/>\x20<path\x20d=\x22M12\x2022C6.477\x2022\x202\x2017.523\x202\x2012S6.477\x202\x2012\x202s10\x204.477\x2010\x2010-4.477\x2010-10\x2010zm0-11.414L9.172\x207.757\x207.757\x209.172\x2010.586\x2012l-2.829\x202.828\x201.415\x201.415L12\x2013.414l2.828\x202.829\x201.415-1.415L13.414\x2012l2.829-2.828-1.415-1.415L12\x2010.586z\x22/>\x20</g>\x20</svg></div>',
    'https://chatfly.co/static/media/logo.ece8dfcb2b9f337ddd55.png',
    'chat',
    '#fff',
    '.chatbox__send--footer',
    'baseUrl',
    'updateInitMessage',
    'isClicked',
    '231ORJyLT',
    'refreshHistory',
    'getStreamingResponseUrl',
    '#cdceed',
    '5348037VQyWGj',
    '.refresh__button',
    'chatbotConfig',
    '9155570zbxblw',
    '.chatbox__header,.chatbox__support,.messages__item--operator,.messages__item--typing,.messages__item--visitor{white-space:\x20pre-wrap;border-radius:10px;background:#EDEDED}.chatbox{position:fixed;z-index:100000;bottom:30px;{{chatBoxAlignment}}:30px}.chatbox__support{display:flex;flex-direction:column;z-index:-123456;opacity:0;transition:.5s\x20ease-in-out}.chatbox--active{transform:translateY(-10px);z-index:123456;opacity:1}.chatbox__button{text-align:{{chatButtonAlignment}}}.chatbox__header{position:sticky;top:0;background:orange}.chatbox__messages{margin-bottom:20px;margin-top:auto;display:flex;flex-direction:column;overflow-y:auto;flex-direction:column-reverse}.messages__item{width:fit-content;}.messages__item--visitor{white-space:\x20pre-wrap;margin-right:auto}*{box-sizing:border-box;margin:0;padding:0}*,html{--primaryGradient:linear-gradient(93.12deg,\x20#581B98\x200.52%,\x20#9C1DE7\x20100%);--secondaryGradient:#2a2b4c;--primaryBoxShadow:0px\x2010px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--secondaryBoxShadow:0px\x20-10px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--light:300;--regular:400;--semiBold:600;--extraLight:300;--italic:300;--primary:#581B98}body{font-family:Nunito,sans-serif;font-weight:400;font-size:100%;background:#f1f1f1}.message_avatar{width:40px;height:40px;border-radius:50px;backend:#0B1152;margin-right:5px}.chatbox__support{border-bottom-left-radius:\x2020px;border-bottom-right-radius:\x2020px;background:{{chatBoxBackgroundColor}};height:700px;width:450px;box-shadow:0\x200\x2015px\x20rgba(0,0,0,.1)}.chatbox__header{background:var(--primaryGradient);display:flex;flex-direction:row;align-items:center;justify-content:center;padding:15px\x2020px;box-shadow:var(--primaryBoxShadow)}.chatbox__image--header{margin-right:10px}.chatbox__heading--header{font-size:1.2rem;color:#fff}.chatbox__description--header{font-size:.9rem;color:#fff}.chatbox__messages{margin-bottom:20px;height:100%;padding:0\x2010px}.messages__item{margin-top:10px;padding:8px\x2012px;max-width:70%}.messages__item--typing,.message__bot{display:flex;column-gap:5px;align-items:\x20end;}.messages__item--operator{margin-left:auto;background:{{messageItemOperatorBackgroundColor}};color:#fff}.chatbot__suggest{overflow-y:hidden;margin:10px\x2010px\x200\x2010px;white-space:\x20nowrap;display:flex;overflow-x:auto;scrollbar-gutter:\x20stable;column-gap:10px;padding-bottom:1rem}.chatbot__suggest--item{font-size:12px;height:35px;padding:0\x2015px;display:flex;cursor:pointer;border-radius:10px;align-items:center;background:#EDEDED}.chatbox__footer{position:sticky;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:10px\x2010px\x2015px;border:1px\x20solid\x20{{chatInputBorderColor}};border-radius:5px;}.chatbox__footer\x20input{background-color:\x20inherit;color:\x20{{chatInputColor}}}.chatbot__header{color:{{chatBoxDisplayNameColor}};height:65px;border-bottom:1px\x20solid\x20{{chatBoxHeaderBorderColor}};padding-top:5px;margin:0\x2020px;text-align:center;align-items:center;display:flex;justify-content:space-between}.bot_avatar{height:25px;width:25px;object-fit:\x20cover}.icon_header{font-size:18px;font-weight:700;display:flex;align-items:center;cursor:\x20pointer;column-gap:10px;}.chatbox__footer\x20input{border:none;outline:0;padding:10px;border-radius:30px;text-align:left;width:86%;height:80%;font-size:14px}.chatbox__send--footer{color:#fff;cursor:pointer;margin-right:10px}.chatbox__button\x20button,.chatbox__button\x20button:focus,.chatbox__button\x20button:visited{padding:10px;background:{{chatButtonColor}};border:none;outline:0;border-top-left-radius:50px;border-top-right-radius:50px;border-bottom-{{chatButtonDirection}}-radius:50px;box-shadow:0\x2010px\x2015px\x20rgba(0,0,0,.1);cursor:pointer}.messages__item--typing{will-change:transform;width:auto;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom-right-radius:20px;padding:15px\x2020px;display:table;margin-right:auto;position:relative;animation:2s\x20ease-out\x20infinite\x20bulge}.messages__item--typing::after,.messages__item--typing::before{content:\x27\x27;position:absolute;bottom:-2px;left:-2px;height:10px;width:10px;border-radius:50%}.messages__item--typing::after{height:10px;width:10px;left:-10px;bottom:-10px}span.messages__dot{height:8px;width:8px;float:left;margin:0\x201px;background-color:#9e9ea1;display:block;border-radius:50%;opacity:.4;animation:1s\x20infinite\x20blink}@keyframes\x20blink{50%{opacity:1}}@keyframes\x20bulge{50%{transform:scale(1.05)}}',
    'closeChatBox',
    'toggleIcon',
    'decode',
    'user',
    '\x0a\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,600;1,300&display=swap\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20::-webkit-scrollbar-track\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#d6dee1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x206px\x20solid\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-clip:\x20content-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20::-webkit-scrollbar-thumb:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#a8bbbf;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a</style>\x0a\x20\x20',
    'none',
    '9774792dRKLVy',
    '/chat/get-streaming-response',
    'chat_message_color',
    'read',
    '854770BSgMxQ',
    '<svg\x20fill=',
    '\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__support\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbot__header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__messages\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbot__suggest\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20placeholder=\x22Type\x20your\x20message...\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22chatbox__send--footer\x22>Send</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__button\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button><img\x20src=\x27\x27\x20alt=\x27button\x20icon\x27></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',
    'chatbot__suggest--item',
    'syncChatWidgetStyling',
    'add',
    '#inherit',
    'div',
    'toString',
    'undefined',
    'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx',
    '.chatbot__suggest',
    'includes',
    '<div>',
    'updateChatBox',
    'dark',
    'input',
    '1181837efTQKp',
    'https://backend.dev.chatfly.co/api',
    '</div>',
    'click',
    'Request\x20failed\x20with\x20status:\x20',
    'updateChatIcons',
    '<div\x20class=\x22icon_header\x22>',
    '<div\x20class=\x22messages__item\x20messages__item--typing\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22messages__dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22messages__dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22messages__dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',
    '235674zWjPMU',
    'forEach',
    'origin',
    'updateSuggestedMessages',
    '#0000004a',
    'asyncGenerator',
    'args',
    'Error:',
    'location',
    'POST',
    'assistant',
    '?bot_id=',
    'right',
    'showMessageText',
    'error',
    'querySelectorAll',
    'floor',
    'chatbox--active',
    'bot_avatar_url',
    'icons',
    'value',
    'chat_icon_url',
    '.chatbot__header',
    '<div\x20class=\x22messages__item\x20messages__item--operator\x22>',
    'img',
    'showOrHideChatBox',
    'history',
    'head',
    '<div\x20class=\x22messages__item\x20messages__item--visitor\x22>',
    'left',
    'replace',
    'getTime',
    'openButton',
    'setStyle',
    'firstElementChild',
    'body',
    'querySelector',
    'src',
    '.chatbox__header,.chatbox__support,.messages__item--operator,.messages__item--typing,.messages__item--visitor{white-space:\x20pre-wrap;border-top-left-radius:20px;border-top-right-radius:20px}.chatbox{position:fixed;z-index:100000;bottom:30px;right:30px}.chatbox__support{display:flex;flex-direction:column;z-index:-123456;opacity:0;transition:.5s\x20ease-in-out}.chatbox--active{transform:translateY(-10px);z-index:123456;opacity:1}.chatbox__button{text-align:right}.chatbox__header{position:sticky;top:0;background:orange}.chatbox__messages{margin-bottom:\x2020px;margin-top:auto;display:flex;flex-direction:column;overflow-y:auto;flex-direction:column-reverse}.messages__item{width:fit-content;border:1px\x20solid\x20#0000004a;}.messages__item--visitor{white-space:pre-wrap;margin-right:auto}*{box-sizing:border-box;margin:0;padding:0}*,html{--primaryGradient:linear-gradient(93.12deg,\x20#581B98\x200.52%,\x20#9C1DE7\x20100%);--secondaryGradient:#2a2b4c;--primaryBoxShadow:0px\x2010px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--secondaryBoxShadow:0px\x20-10px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--light:300;--regular:400;--semiBold:600;--extraLight:300;--italic:300;--primary:#581B98}body{font-family:Nunito,sans-serif;font-weight:400;font-size:100%;background:#f1f1f1}.message_avatar{width:40px;height:40px;border-radius:50px;backend:#0B1152;margin-right:5px}.chatbox__support{border-bottom-left-radius:\x2020px;border-bottom-right-radius:\x2020px;background:#fff;height:700px;width:450px;box-shadow:0\x200\x2015px\x20rgba(0,0,0,.1)}.chatbox__header{background:var(--primaryGradient);display:flex;flex-direction:row;align-items:center;justify-content:center;padding:15px\x2020px;box-shadow:var(--primaryBoxShadow)}.chatbox__image--header{margin-right:10px}.chatbox__heading--header{font-size:1.2rem;color:#fff}.chatbox__description--header{font-size:.9rem;color:#fff}.chatbox__messages{margin-bottom:\x2020px;height:100%;padding:0\x2010px}.messages__item{margin-top:10px;padding:8px\x2012px;max-width:70%}.messages__item--typing,.messages__item--visitor{white-space:pre-wrap;border-bottom-right-radius:20px}.message__bot{display:flex;column-gap:5px;align-items:\x20end;}.chatbot__avatar{background:#0B1152;width:35px;height:35px;border-radius:50px;display:flex;align-items:center;justify-content:center;}.avatar{width:20px;height:20px}.messages__item--operator{margin-left:auto;border-bottom-left-radius:20px;background:#0b1152;color:#fff}.chatbot__suggest{overflow-y:hidden;display:flex;overflow-x:auto;scrollbar-gutter:\x20stable;column-gap:10px;padding-bottom:1rem}.chatbot__suggest--item{font-size:\x2012px;white-space:\x20nowrap;height:35px;padding:0\x2015px;display:flex;cursor:pointer;border-radius:20px;align-items:center;border:1px\x20solid\x20#0000004a}.chatbox__footer{position:sticky;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:10px\x2010px\x2015px;border:1px\x20solid\x20#0000004a;border-radius:5px}.chatbot__header{height:80px;background:#0B1152;border-radius:20px;margin-top:-1px;padding:20px;text-align:center;display:flex;justify-content:space-between}.bot_avatar{height:25px}.icon_header{font-size:18px;font-weight:700;display:flex;align-items:center;cursor:\x20pointer;column-gap:10px;color:white}.chatbox__footer\x20input{border:none;outline:0;padding:10px;border-radius:30px;text-align:left;width:86%;height:80%;font-size:14px}.chatbox__send--footer{color:#fff;cursor:pointer;margin-right:10px}.chatbox__button\x20button,.chatbox__button\x20button:focus,.chatbox__button\x20button:visited{padding:10px;background:#0c0f51;border:none;outline:0;border-top-left-radius:50px;border-top-right-radius:50px;border-bottom-left-radius:50px;box-shadow:0\x2010px\x2015px\x20rgba(0,0,0,.1);cursor:pointer}.messages__item--typing{will-change:transform;width:auto;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom-right-radius:20px;padding:15px\x2020px;display:table;margin-right:auto;position:relative;animation:2s\x20ease-out\x20infinite\x20bulge}.messages__item--typing::after,.messages__item--typing::before{content:\x27\x27;position:absolute;bottom:-2px;left:-2px;height:10px;width:10px;border-radius:50%}.messages__item--typing::after{height:10px;width:10px;left:-10px;bottom:-10px}span.messages__dot{height:8px;width:8px;float:left;margin:0\x201px;background-color:#9e9ea1;display:block;border-radius:50%;opacity:.4;animation:1s\x20infinite\x20blink}@keyframes\x20blink{50%{opacity:1}}@keyframes\x20bulge{50%{transform:scale(1.05)}}',
    'innerHTML',
    'display_name',
    'random',
    'state',
    '9zOfErw',
    'replaceChild',
    '12SAHUkt',
    'application/json',
    'display',
    'iconSend',
    '\x20width=\x2222\x22\x20height=\x2222\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20viewBox=\x220\x200\x20256\x20256\x22><rect\x20width=\x2222\x22\x20height=\x2222\x22\x20fill=\x22none\x22/><path\x20d=\x22M223.4,114,54.9,19.7a16.3,16.3,0,0,0-18.2,1.2,15.9,15.9,0,0,0-5.1,17.9l28.1,78.5a4.1,4.1,0,0,0,3.8,2.7h72.2a8.2,8.2,0,0,1,8.3,7.5,8,8,0,0,1-8,8.5H63.5a4.1,4.1,0,0,0-3.8,2.7L31.6,217.2a16.1,16.1,0,0,0,15.1,21.4,16.5,16.5,0,0,0,7.8-2L223.4,142a16.1,16.1,0,0,0,0-28Z\x22/></svg>',
  ];
  _0xa0f2 = function () {
    return _0x2c4bb1;
  };
  return _0xa0f2();
}
const _0x56ffd4 = _0x9f3a;
(function (_0x35ac99, _0x326d20) {
  const _0x24bc4b = _0x9f3a,
    _0x1cd5df = _0x35ac99();
  while (!![]) {
    try {
      const _0x4cd4de =
        (parseInt(_0x24bc4b(0x25c)) / 0x1) *
          (parseInt(_0x24bc4b(0x220)) / 0x2) +
        parseInt(_0x24bc4b(0x23c)) / 0x3 +
        (parseInt(_0x24bc4b(0x20a)) / 0x4) *
          (-parseInt(_0x24bc4b(0x24b)) / 0x5) +
        (-parseInt(_0x24bc4b(0x264)) / 0x6) *
          (-parseInt(_0x24bc4b(0x238)) / 0x7) +
        (-parseInt(_0x24bc4b(0x247)) / 0x8) *
          (-parseInt(_0x24bc4b(0x208)) / 0x9) +
        -parseInt(_0x24bc4b(0x23f)) / 0xa +
        -parseInt(_0x24bc4b(0x214)) / 0xb;
      if (_0x4cd4de === _0x326d20) break;
      else _0x1cd5df['push'](_0x1cd5df['shift']());
    } catch (_0x2b782f) {
      _0x1cd5df['push'](_0x1cd5df['shift']());
    }
  }
})(_0xa0f2, 0xe16a9);
class InteractiveChatbox {
  constructor() {
    const _0x5161eb = _0x9f3a;
    (this[_0x5161eb(0x235)] = _0x5161eb(0x25d)),
      (this[_0x5161eb(0x23a)] = this['baseUrl'] + _0x5161eb(0x248)),
      (this[_0x5161eb(0x21e)] =
        this[_0x5161eb(0x235)] + '/bot/bot-widget-setting'),
      (this[_0x5161eb(0x26a)] = {
        openButton: document['querySelector'](_0x5161eb(0x211)),
        chatbox: document['querySelector'](_0x5161eb(0x217)),
        sendButton: document['querySelector'](_0x5161eb(0x234)),
        header: document[_0x5161eb(0x201)](_0x5161eb(0x1f3)),
        message_suggest: document['querySelector'](_0x5161eb(0x256)),
      }),
      (this[_0x5161eb(0x277)] = {
        isClicked: undefined,
        isNotClicked: undefined,
        iconSend: undefined,
        iconClose: _0x5161eb(0x230),
        iconRefresh:
          '<div\x20class=\x22refresh__button\x22><svg\x20fill=\x22#2274DD\x22\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2015\x2015\x22\x20fill=\x22none\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x20<path\x20fill-rule=\x22evenodd\x22\x20clip-rule=\x22evenodd\x22\x20d=\x22M7.5\x201C3.91015\x201\x201\x203.91015\x201\x207.5H0C0\x203.35786\x203.35786\x200\x207.5\x200C9.6733\x200\x2011.6308\x200.924852\x2013\x202.40095V0H14V4L10\x204V3L12.1905\x203C11.007\x201.76671\x209.34315\x201\x207.5\x201ZM7.5\x2014C11.0899\x2014\x2014\x2011.0899\x2014\x207.5H15C15\x2011.6421\x2011.6421\x2015\x207.5\x2015C5.3267\x2015\x203.36918\x2014.0751\x202\x2012.599V15H1V11H5V12H2.80955C3.993\x2013.2333\x205.65685\x2014\x207.5\x2014Z\x22\x20fill=\x22#2274DD\x22/>\x20</svg></div>',
      }),
      (this[_0x5161eb(0x207)] = ![]),
      (this[_0x5161eb(0x1f7)] = []),
      (this[_0x5161eb(0x210)] = this['generateUUID']());
  }
  [_0x56ffd4(0x21a)]() {
    const _0x33b448 = _0x56ffd4;
    var _0x1d32ac = new Date()[_0x33b448(0x1fc)](),
      _0x51e15a =
        (typeof performance !== _0x33b448(0x254) &&
          performance['now'] &&
          performance[_0x33b448(0x20f)]() * 0x3e8) ||
        0x0;
    return _0x33b448(0x255)[_0x33b448(0x1fb)](/[xy]/g, function (_0x4a7906) {
      const _0x4fe545 = _0x33b448;
      var _0x3fb90f = Math[_0x4fe545(0x206)]() * 0x10;
      return (
        _0x1d32ac > 0x0
          ? ((_0x3fb90f = (_0x1d32ac + _0x3fb90f) % 0x10 | 0x0),
            (_0x1d32ac = Math[_0x4fe545(0x274)](_0x1d32ac / 0x10)))
          : ((_0x3fb90f = (_0x51e15a + _0x3fb90f) % 0x10 | 0x0),
            (_0x51e15a = Math[_0x4fe545(0x274)](_0x51e15a / 0x10))),
        (_0x4a7906 === 'x' ? _0x3fb90f : (_0x3fb90f & 0x3) | 0x8)[
          _0x4fe545(0x253)
        ](0x10)
      );
    });
  }
  async [_0x56ffd4(0x20c)]() {
    const _0x3cc4d5 = _0x56ffd4,
      {
        openButton: _0x5d8aae,
        chatbox: _0xde14ad,
        sendButton: _0x4d02ef,
      } = this[_0x3cc4d5(0x26a)];
    await this['syncChatWidgetStyling'](_0xde14ad);
    const { iconSend: _0x2b5b5d } = this[_0x3cc4d5(0x277)];
    this['toggleIcon'](![], _0x5d8aae),
      this[_0x3cc4d5(0x213)](_0xde14ad),
      _0x5d8aae['addEventListener'](_0x3cc4d5(0x25f), () =>
        this[_0x3cc4d5(0x213)](_0xde14ad),
      ),
      _0x4d02ef[_0x3cc4d5(0x21b)](_0x3cc4d5(0x25f), () =>
        this[_0x3cc4d5(0x219)](_0xde14ad),
      ),
      (_0x4d02ef[_0x3cc4d5(0x204)] =
        _0x3cc4d5(0x258) + _0x2b5b5d + _0x3cc4d5(0x25e));
    const _0x46446d = _0xde14ad[_0x3cc4d5(0x201)](_0x3cc4d5(0x25b));
    _0x46446d['addEventListener']('keyup', ({ key: _0x3bb46f }) => {
      const _0x25afff = _0x3cc4d5;
      _0x3bb46f === _0x25afff(0x21c) && this[_0x25afff(0x219)](_0xde14ad);
    });
  }
  async [_0x56ffd4(0x24f)](_0xcf42c) {
    const _0x3a42ca = _0x56ffd4;
    let _0x28d17f = new Headers();
    _0x28d17f[_0x3a42ca(0x22d)](_0x3a42ca(0x212), _0x3a42ca(0x20b));
    const _0x4b1d6c = { method: _0x3a42ca(0x226), headers: _0x28d17f };
    try {
      const _0x5dc04a = await fetch(
        this[_0x3a42ca(0x21e)] +
          _0x3a42ca(0x26f) +
          window[_0x3a42ca(0x23e)]['bot_id'],
        _0x4b1d6c,
      );
      if (!_0x5dc04a['ok'])
        throw new Error(_0x3a42ca(0x260) + _0x5dc04a['status']);
      const _0x361158 = await _0x5dc04a['json']();
      this[_0x3a42ca(0x1fe)](_0x361158),
        this[_0x3a42ca(0x236)](_0x361158),
        await this['updateChatIcons'](_0x361158),
        await this[_0x3a42ca(0x267)](_0x361158);
      const _0x236dc4 = document[_0x3a42ca(0x273)](_0x3a42ca(0x22a));
      _0x236dc4[_0x3a42ca(0x265)]((_0x8ddedf) => {
        const _0xb22729 = _0x3a42ca;
        _0x8ddedf?.[_0xb22729(0x21b)](_0xb22729(0x25f), (_0x46d63a) =>
          this[_0xb22729(0x271)](_0x46d63a, _0xcf42c),
        );
      }),
        this['updateHeader'](_0x361158);
    } catch (_0x14f5cb) {
      console[_0x3a42ca(0x272)](_0x3a42ca(0x26b), _0x14f5cb);
    }
  }
  [_0x56ffd4(0x236)](_0xc92e77) {
    const _0xb506d2 = _0x56ffd4,
      { initial_message: _0x5b5e8a } = _0xc92e77;
    _0x5b5e8a &&
      (this['history']['push']([
        { sender_type: _0xb506d2(0x244), content: '' },
        { sender_type: _0xb506d2(0x26e), content: _0x5b5e8a },
      ]),
      this[_0xb506d2(0x259)]());
  }
  [_0x56ffd4(0x215)](_0x1a3341) {
    const _0x16f259 = _0x56ffd4,
      { header: _0x47105d } = this[_0x16f259(0x26a)],
      { iconRefresh: _0x1467aa, iconClose: _0x3307e6 } = this[_0x16f259(0x277)],
      _0x475b68 = document[_0x16f259(0x225)](_0x16f259(0x252));
    _0x475b68[_0x16f259(0x223)] = 'icon_header';
    if (_0x1a3341['bot_avatar_url']) {
      const _0x3584b4 = document[_0x16f259(0x225)](_0x16f259(0x1f5));
      (_0x3584b4['src'] = _0x1a3341[_0x16f259(0x276)]),
        (_0x3584b4[_0x16f259(0x223)] = 'bot_avatar'),
        _0x475b68[_0x16f259(0x21f)](_0x3584b4);
    }
    _0x1a3341['display_name'] &&
      (_0x475b68['innerHTML'] += _0x1a3341[_0x16f259(0x205)]),
      _0x47105d['appendChild'](_0x475b68),
      (_0x47105d['innerHTML'] +=
        _0x16f259(0x262) + _0x1467aa + _0x3307e6 + _0x16f259(0x25e));
  }
  [_0x56ffd4(0x271)](_0x5ba332, _0x21f341) {
    const _0x108939 = _0x56ffd4,
      _0x888fcd = _0x5ba332['target'][_0x108939(0x228)];
    let _0x260f22 = _0x21f341[_0x108939(0x201)](_0x108939(0x25b));
    (_0x260f22[_0x108939(0x278)] = _0x888fcd),
      this[_0x108939(0x219)](_0x21f341);
  }
  [_0x56ffd4(0x267)](_0x125110) {
    const _0x3b865d = _0x56ffd4,
      { suggest_messages: _0x2e7398 } = _0x125110,
      { message_suggest: _0x4419a3 } = this[_0x3b865d(0x26a)];
    (_0x2e7398 ?? [])[_0x3b865d(0x265)]((_0x2a10a6) => {
      const _0x9f24d5 = _0x3b865d,
        _0x5d8c18 = document[_0x9f24d5(0x225)](_0x9f24d5(0x252));
      (_0x5d8c18[_0x9f24d5(0x223)] = _0x9f24d5(0x24e)),
        (_0x5d8c18['textContent'] = _0x2a10a6),
        _0x4419a3['appendChild'](_0x5d8c18);
    });
  }
  async [_0x56ffd4(0x261)](_0x4a67f3) {
    const _0x3004ae = _0x56ffd4;
    (this[_0x3004ae(0x277)][_0x3004ae(0x237)] =
      document[_0x3004ae(0x225)]('img')),
      (this[_0x3004ae(0x277)]['isNotClicked'] = document[_0x3004ae(0x225)](
        _0x3004ae(0x1f5),
      )),
      (this[_0x3004ae(0x277)][_0x3004ae(0x20d)] =
        _0x3004ae(0x24c) +
        (_0x4a67f3['chat_message_color']
          ? '\x22' + _0x4a67f3[_0x3004ae(0x249)] + '\x22'
          : '#000000') +
        _0x3004ae(0x20e));
    if (
      window['location'][_0x3004ae(0x266)][_0x3004ae(0x257)](_0x3004ae(0x232))
    ) {
      (this['icons'][_0x3004ae(0x237)][_0x3004ae(0x202)] = _0x3004ae(0x231)),
        (this[_0x3004ae(0x277)][_0x3004ae(0x237)][_0x3004ae(0x22c)][
          _0x3004ae(0x21d)
        ] = _0x3004ae(0x22f)),
        (this[_0x3004ae(0x277)][_0x3004ae(0x229)][_0x3004ae(0x202)] =
          _0x3004ae(0x231)),
        (this['icons']['isNotClicked']['style'][_0x3004ae(0x21d)] =
          _0x3004ae(0x22f));
      return;
    }
    _0x4a67f3[_0x3004ae(0x279)]
      ? ((this[_0x3004ae(0x277)][_0x3004ae(0x237)][_0x3004ae(0x202)] =
          _0x4a67f3[_0x3004ae(0x279)]),
        (this[_0x3004ae(0x277)]['isNotClicked'][_0x3004ae(0x202)] =
          _0x4a67f3[_0x3004ae(0x279)]))
      : ((this[_0x3004ae(0x277)][_0x3004ae(0x237)]['src'] =
          'https://app.gpt-trainer.com/img/widget-images/widget-button-open-state/default-chat.svg'),
        (this[_0x3004ae(0x277)][_0x3004ae(0x229)][_0x3004ae(0x202)] =
          'https://app.gpt-trainer.com/img/widget-images/widget-button-open-state/default-chat.svg'));
  }
  [_0x56ffd4(0x1fe)](_0xf1b2a) {
    const _0x2a152c = _0x56ffd4,
      {
        theme: _0x544e70,
        chat_bubble_button_color: _0x48802b,
        align_chat_bubble_button: _0x3d3596,
        chat_message_color: _0x4e560e,
        suggest_messages: _0x3b47c6,
      } = _0xf1b2a,
      _0x498a77 = _0x2a152c(0x240),
      _0x488ade = _0x2a152c(0x203),
      _0x1f5af1 = window[_0x2a152c(0x26c)][_0x2a152c(0x266)][_0x2a152c(0x257)](
        'chatfly',
      )
        ? _0x488ade
        : _0x498a77,
      _0x540c83 = {
        chatButtonAlignment: _0x3d3596 ?? _0x2a152c(0x270),
        chatBoxAlignment: _0x3d3596 ?? _0x2a152c(0x270),
        chatButtonDirection:
          _0x3d3596 === _0x2a152c(0x1fa) ? _0x2a152c(0x270) : _0x2a152c(0x1fa),
        chatButtonColor: _0x48802b ?? _0x2a152c(0x233),
        chatBoxBackgroundColor:
          _0x544e70 === _0x2a152c(0x25a) ? '#111827' : '#fff',
        chatInputBorderColor:
          _0x544e70 === 'dark' ? '#cdceed' : _0x2a152c(0x268),
        chatBoxHeaderBorderColor:
          _0x544e70 === _0x2a152c(0x25a) ? _0x2a152c(0x23b) : '#0000004a',
        chatInputColor: _0x544e70 === 'dark' ? '#fff' : _0x2a152c(0x251),
        chatBoxDisplayNameColor:
          _0x544e70 === _0x2a152c(0x25a) ? _0x2a152c(0x233) : 'inherit',
        messageItemOperatorBackgroundColor: _0x4e560e ?? '#3399FF',
        suggestedMessagesHeight: _0x3b47c6?.[_0x2a152c(0x224)]
          ? _0x2a152c(0x218)
          : '0px',
      },
      _0x5895b8 = document[_0x2a152c(0x225)](_0x2a152c(0x22c));
    (_0x5895b8[_0x2a152c(0x228)] = _0x1f5af1[_0x2a152c(0x1fb)](
      /{{([^}]+)}}/g,
      (_0xc17e0, _0x45a39b) => _0x540c83[_0x45a39b],
    )),
      document[_0x2a152c(0x1f8)]['append'](_0x5895b8);
  }
  [_0x56ffd4(0x22b)](_0x5d7f3a) {
    return new Promise((_0x1cb5e0) => setTimeout(_0x1cb5e0, _0x5d7f3a));
  }
  async [_0x56ffd4(0x219)](_0x2feb09) {
    const _0x3f44e1 = _0x56ffd4;
    let _0xec477 = _0x2feb09[_0x3f44e1(0x201)](_0x3f44e1(0x25b)),
      _0x435423 = _0xec477[_0x3f44e1(0x278)];
    _0xec477[_0x3f44e1(0x278)] = '';
    if (_0x435423 === '') return;
    this[_0x3f44e1(0x1f7)][_0x3f44e1(0x227)]([
      { sender_type: _0x3f44e1(0x244), content: _0x435423 },
      { sender_type: 'assistant', content: '' },
    ]),
      this['updateChatBox']();
    let _0x5094c6 = new Headers();
    _0x5094c6[_0x3f44e1(0x22d)](_0x3f44e1(0x212), _0x3f44e1(0x20b));
    const _0x3d9be9 = {
      method: _0x3f44e1(0x26d),
      headers: _0x5094c6,
      body: JSON['stringify']({
        message: _0x435423,
        session_id: this[_0x3f44e1(0x210)],
        ...window[_0x3f44e1(0x23e)],
      }),
    };
    try {
      const _0x39defc = await fetch(this[_0x3f44e1(0x23a)], _0x3d9be9);
      if (!_0x39defc['ok'])
        throw new Error(
          'Request\x20failed\x20with\x20status:\x20' + _0x39defc['status'],
        );
      const _0x5b1147 = await _0x39defc[_0x3f44e1(0x200)],
        _0x16870f = _0x5b1147['getReader']();
      for await (const _0x393526 of this[_0x3f44e1(0x269)](_0x16870f)) {
      }
    } catch (_0x5d504a) {
      console[_0x3f44e1(0x272)](_0x3f44e1(0x26b), _0x5d504a),
        (_0xec477[_0x3f44e1(0x278)] = '');
    }
  }
  async *[_0x56ffd4(0x269)](_0x1a487a) {
    const _0x4afb22 = _0x56ffd4,
      _0x4cf10d = new TextDecoder();
    while (!![]) {
      const { done: _0x1ecac1, value: _0x2f00ef } =
        await _0x1a487a[_0x4afb22(0x24a)]();
      if (_0x1ecac1) return;
      const _0x104a8f = _0x4cf10d[_0x4afb22(0x243)](_0x2f00ef);
      await this[_0x4afb22(0x22b)](0x32),
        (this[_0x4afb22(0x1f7)][_0x4afb22(0x216)](-0x1)[0x0][0x1]['content'] +=
          _0x104a8f),
        await this[_0x4afb22(0x259)]();
    }
  }
  async [_0x56ffd4(0x259)]() {
    const _0xa10c8d = _0x56ffd4;
    let _0x3e436c = document[_0xa10c8d(0x201)]('.chatbox__messages'),
      _0x2dbf35 = '';
    this[_0xa10c8d(0x1f7)][_0xa10c8d(0x265)]((_0x1af93a, _0x476082) => {
      const _0xe17e24 = _0xa10c8d;
      !(
        _0x1af93a[0x0][_0xe17e24(0x222)] == _0xe17e24(0x244) &&
        !_0x1af93a[0x0][_0xe17e24(0x22e)]
      ) &&
        (_0x2dbf35 +=
          _0xe17e24(0x1f4) +
          _0x1af93a[0x0][_0xe17e24(0x22e)] +
          _0xe17e24(0x25e));
      if (
        _0x1af93a[0x1][_0xe17e24(0x222)] == _0xe17e24(0x26e) &&
        _0x1af93a[0x1][_0xe17e24(0x22e)]
      )
        _0x2dbf35 +=
          _0xe17e24(0x1f9) +
          _0x1af93a[0x1][_0xe17e24(0x22e)] +
          _0xe17e24(0x25e);
      else _0x2dbf35 += _0xe17e24(0x263);
    }),
      (_0x3e436c[_0xa10c8d(0x204)] =
        _0xa10c8d(0x258) + _0x2dbf35 + _0xa10c8d(0x25e));
  }
  [_0x56ffd4(0x241)]() {
    const _0x126ebe = _0x56ffd4,
      { chatbox: _0x3ea474 } = this['args'];
    _0x3ea474[_0x126ebe(0x22c)][_0x126ebe(0x20c)] = _0x126ebe(0x246);
  }
  [_0x56ffd4(0x239)]() {
    const _0x23f346 = _0x56ffd4;
    (this[_0x23f346(0x1f7)] = []),
      (this[_0x23f346(0x210)] = this[_0x23f346(0x21a)]()),
      this[_0x23f346(0x259)]();
  }
  [_0x56ffd4(0x213)](_0x24ac02) {
    const _0x35aa71 = _0x56ffd4;
    (this[_0x35aa71(0x207)] = !this[_0x35aa71(0x207)]),
      this[_0x35aa71(0x1f6)](
        _0x24ac02,
        this[_0x35aa71(0x26a)][_0x35aa71(0x1fd)],
      );
  }
  [_0x56ffd4(0x1f6)](_0x2e485c, _0xaa5de8) {
    const _0x196e5e = _0x56ffd4;
    _0x2e485c['style']['display'] =
      _0x2e485c[_0x196e5e(0x22c)]['display'] === 'none' ? '' : _0x196e5e(0x246);
    if (this['state'])
      _0x2e485c['classList'][_0x196e5e(0x250)](_0x196e5e(0x275)),
        this[_0x196e5e(0x242)](!![], _0xaa5de8);
    else !this['state'] && this[_0x196e5e(0x242)](![], _0xaa5de8);
  }
  [_0x56ffd4(0x242)](_0x3d3c6c, _0xbbec8f) {
    const _0x3c4e60 = _0x56ffd4,
      { isClicked: _0x473555, isNotClicked: _0x17a736 } =
        this[_0x3c4e60(0x277)],
      _0x1c6d2b = document['querySelector'](_0x3c4e60(0x221));
    _0x1c6d2b['addEventListener'](_0x3c4e60(0x25f), () =>
      this[_0x3c4e60(0x241)](),
    );
    const _0x3971bc = document['querySelector'](_0x3c4e60(0x23d));
    _0x3971bc['addEventListener'](_0x3c4e60(0x25f), () =>
      this['refreshHistory'](),
    );
    const _0x3e123f = _0xbbec8f[_0x3c4e60(0x1ff)],
      _0x484217 = _0x3e123f[_0x3c4e60(0x1ff)];
    _0x3e123f[_0x3c4e60(0x209)](_0x3d3c6c ? _0x473555 : _0x17a736, _0x484217);
  }
}
(document[_0x56ffd4(0x200)] = document[_0x56ffd4(0x225)](_0x56ffd4(0x200))),
  (document[_0x56ffd4(0x1f8)][_0x56ffd4(0x204)] += _0x56ffd4(0x245));
function _0x9f3a(_0x300d7d, _0xd814b3) {
  const _0xa0f20b = _0xa0f2();
  return (
    (_0x9f3a = function (_0x9f3ac9, _0x113b18) {
      _0x9f3ac9 = _0x9f3ac9 - 0x1f3;
      let _0x370a7c = _0xa0f20b[_0x9f3ac9];
      return _0x370a7c;
    }),
    _0x9f3a(_0x300d7d, _0xd814b3)
  );
}
const elemDiv = _0x56ffd4(0x24d);
document[_0x56ffd4(0x200)][_0x56ffd4(0x204)] += elemDiv;
const chatbox = new InteractiveChatbox();
chatbox['display']();
