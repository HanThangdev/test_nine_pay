const _0x348fd9 = _0x4697;
function _0x4697(_0x28b968, _0x3d7382) {
  const _0x5b1661 = _0x5b16();
  return (
    (_0x4697 = function (_0x469730, _0xc47217) {
      _0x469730 = _0x469730 - 0x120;
      let _0x1faddf = _0x5b1661[_0x469730];
      return _0x1faddf;
    }),
    _0x4697(_0x28b968, _0x3d7382)
  );
}
(function (_0x2430b6, _0x26f830) {
  const _0x5d4b14 = _0x4697,
    _0x5eace2 = _0x2430b6();
  while (!![]) {
    try {
      const _0x360a35 =
        (-parseInt(_0x5d4b14(0x160)) / 0x1) *
          (parseInt(_0x5d4b14(0x148)) / 0x2) +
        (-parseInt(_0x5d4b14(0x120)) / 0x3) *
          (parseInt(_0x5d4b14(0x169)) / 0x4) +
        parseInt(_0x5d4b14(0x183)) / 0x5 +
        parseInt(_0x5d4b14(0x143)) / 0x6 +
        (-parseInt(_0x5d4b14(0x130)) / 0x7) *
          (parseInt(_0x5d4b14(0x18a)) / 0x8) +
        (parseInt(_0x5d4b14(0x142)) / 0x9) *
          (-parseInt(_0x5d4b14(0x149)) / 0xa) +
        (-parseInt(_0x5d4b14(0x16d)) / 0xb) *
          (-parseInt(_0x5d4b14(0x13e)) / 0xc);
      if (_0x360a35 === _0x26f830) break;
      else _0x5eace2['push'](_0x5eace2['shift']());
    } catch (_0x473ac0) {
      _0x5eace2['push'](_0x5eace2['shift']());
    }
  }
})(_0x5b16, 0xe9001);
function _0x5b16() {
  const _0x21c243 = [
    '.chatbot__header',
    '498mBsjcq',
    '648710LoaRSN',
    'assistant',
    'icon_header',
    'getTime',
    'toggleIcon',
    'textContent',
    'updateChatBox',
    'body',
    'append',
    'length',
    '#000000',
    'style',
    'createElement',
    'https://backend.chatfly.co/api',
    'className',
    'refreshHistory',
    'random',
    '/bot/bot-widget-setting',
    'error',
    'img',
    'innerHTML',
    'Request\x20failed\x20with\x20status:\x20',
    '.chatbox__header,.chatbox__support,.messages__item--operator,.messages__item--typing,.messages__item--visitor{border-top-left-radius:20px;border-top-right-radius:20px}.chatbox{position:fixed;z-index:100000;bottom:30px;right:30px}.chatbox__support{display:flex;flex-direction:column;z-index:-123456;opacity:0;transition:.5s\x20ease-in-out}.chatbox--active{transform:translateY(-10px);z-index:123456;opacity:1}.chatbox__button{text-align:right}.chatbox__header{position:sticky;top:0;background:orange}.chatbox__messages{margin-top:auto;display:flex;flex-direction:column;overflow-y:auto;flex-direction:column-reverse}.messages__item{width:fit-content;border:1px\x20solid\x20#0000004a;}.messages__item--visitor{margin-right:auto}*{box-sizing:border-box;margin:0;padding:0}*,html{--primaryGradient:linear-gradient(93.12deg,\x20#581B98\x200.52%,\x20#9C1DE7\x20100%);--secondaryGradient:#2a2b4c;--primaryBoxShadow:0px\x2010px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--secondaryBoxShadow:0px\x20-10px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--light:300;--regular:400;--semiBold:600;--extraLight:300;--italic:300;--primary:#581B98}body{font-family:Nunito,sans-serif;font-weight:400;font-size:100%;background:#f1f1f1}.message_avatar{width:40px;height:40px;border-radius:50px;backend:#0B1152;margin-right:5px}.chatbox__support{border-bottom-left-radius:\x2020px;border-bottom-right-radius:\x2020px;background:#fff;height:500px;width:350px;box-shadow:0\x200\x2015px\x20rgba(0,0,0,.1)}.chatbox__header{background:var(--primaryGradient);display:flex;flex-direction:row;align-items:center;justify-content:center;padding:15px\x2020px;box-shadow:var(--primaryBoxShadow)}.chatbox__image--header{margin-right:10px}.chatbox__heading--header{font-size:1.2rem;color:#fff}.chatbox__description--header{font-size:.9rem;color:#fff}.chatbox__messages{height:100%;padding:0\x2010px}.messages__item{margin-top:10px;padding:8px\x2012px;max-width:70%}.messages__item--typing,.messages__item--visitor{border-bottom-right-radius:20px}.message__bot{display:flex;column-gap:5px;align-items:\x20end;}.chatbot__avatar{background:#0B1152;width:35px;height:35px;border-radius:50px;display:flex;align-items:center;justify-content:center;}.avatar{width:20px;height:20px}.messages__item--operator{margin-left:auto;border-bottom-left-radius:20px;background:#0b1152;color:#fff}.chatbot__suggest{height:60px;display:flex;overflow-x:auto;column-gap:10px;padding:10px\x2010px\x200}.chatbot__suggest--item{white-space:\x20nowrap;height:100%;padding:0\x2015px;display:flex;cursor:pointer;border-radius:20px;align-items:center;border:1px\x20solid\x20#0000004a}.chatbox__footer{position:sticky;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:10px\x2010px\x2015px;border:1px\x20solid\x20#0000004a;border-radius:5px}.chatbot__header{height:80px;background:#0B1152;border-radius:20px;margin-top:-1px;padding:20px;text-align:center;display:flex;justify-content:space-between}.bot_avatar{height:25px}.icon_header{display:flex;align-items:center;cursor:\x20pointer;column-gap:10px;}.chatbox__footer\x20input{border:none;outline:0;padding:10px;border-radius:30px;text-align:left;width:86%;height:80%;font-size:14px}.chatbox__send--footer{color:#fff;cursor:pointer;margin-right:10px}.chatbox__button\x20button,.chatbox__button\x20button:focus,.chatbox__button\x20button:visited{padding:10px;background:#fff;border:none;outline:0;border-top-left-radius:50px;border-top-right-radius:50px;border-bottom-left-radius:50px;box-shadow:0\x2010px\x2015px\x20rgba(0,0,0,.1);cursor:pointer}.messages__item--typing{will-change:transform;width:auto;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom-right-radius:20px;padding:15px\x2020px;display:table;margin-right:auto;position:relative;animation:2s\x20ease-out\x20infinite\x20bulge}.messages__item--typing::after,.messages__item--typing::before{content:\x27\x27;position:absolute;bottom:-2px;left:-2px;height:10px;width:10px;border-radius:50%}.messages__item--typing::after{height:10px;width:10px;left:-10px;bottom:-10px}span.messages__dot{height:8px;width:8px;float:left;margin:0\x201px;background-color:#9e9ea1;display:block;border-radius:50%;opacity:.4;animation:1s\x20infinite\x20blink}@keyframes\x20blink{50%{opacity:1}}@keyframes\x20bulge{50%{transform:scale(1.05)}}',
    '5037KZHziS',
    'chatfly',
    'GET',
    '</div>',
    'origin',
    'right',
    'undefined',
    'value',
    'iconSend',
    '4YJjBXL',
    'click',
    'chatbotConfig',
    'input',
    '27287788pBefVi',
    'dark',
    'now',
    'addEventListener',
    'closeChatBox',
    'getStreamingResponseUrl',
    'history',
    'isNotClicked',
    'updateInitMessage',
    'bot_avatar_url',
    'getBotWidgetSettingUrl',
    'sender_type',
    'Enter',
    'sleep',
    'keyup',
    '<svg\x20fill=',
    'Error:',
    'updateSuggestedMessages',
    'replace',
    'content',
    'head',
    'asyncGenerator',
    '6956265aeWKpI',
    '\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__support\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbot__header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__messages\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbot__suggest\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20placeholder=\x22Type\x20your\x20message...\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22chatbox__send--footer\x22>Send</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22chatbox__button\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button><img\x20src=\x27\x27\x20alt=\x27button\x20icon\x27></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',
    'generateUUID',
    'read',
    '#111827',
    'push',
    'json',
    '3910312bewFKC',
    '<div\x20class=\x22messages__item\x20messages__item--visitor\x22>',
    'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx',
    'replaceChild',
    'session_id',
    '<div\x20class=\x22messages__item\x20messages__item--operator\x22>',
    'Content-Type',
    '.chatbot__suggest',
    '<div\x20class=\x22messages__item\x20messages__item--typing\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22messages__dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22messages__dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22messages__dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',
    'bot_avatar',
    'state',
    'appendChild',
    '<div\x20class=\x22refresh__button\x22><svg\x20fill=\x22#2274DD\x22\x20width=\x2220\x22\x20height=\x2220\x22\x20viewBox=\x220\x200\x2015\x2015\x22\x20fill=\x22none\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22>\x20<path\x20fill-rule=\x22evenodd\x22\x20clip-rule=\x22evenodd\x22\x20d=\x22M7.5\x201C3.91015\x201\x201\x203.91015\x201\x207.5H0C0\x203.35786\x203.35786\x200\x207.5\x200C9.6733\x200\x2011.6308\x200.924852\x2013\x202.40095V0H14V4L10\x204V3L12.1905\x203C11.007\x201.76671\x209.34315\x201\x207.5\x201ZM7.5\x2014C11.0899\x2014\x2014\x2011.0899\x2014\x207.5H15C15\x2011.6421\x2011.6421\x2015\x207.5\x2015C5.3267\x2015\x203.36918\x2014.0751\x202\x2012.599V15H1V11H5V12H2.80955C3.993\x2013.2333\x205.65685\x2014\x207.5\x2014Z\x22\x20fill=\x22#2274DD\x22/>\x20</svg></div>',
    '#fff',
    'user',
    'chatbox--active',
    'openButton',
    '\x0a\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,600;1,300&display=swap\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20rel=\x22stylesheet\x22>\x0a\x20\x20',
    '<div>',
    'showOrHideChatBox',
    '<div\x20class=\x22icon_header\x22>',
    'display',
    'decode',
    'chat_message_color',
    '.chatbox__support',
    'getReader',
    'src',
    'showMessageText',
    '\x20width=\x2222\x22\x20height=\x2222\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20viewBox=\x220\x200\x20256\x20256\x22><rect\x20width=\x2222\x22\x20height=\x2222\x22\x20fill=\x22none\x22/><path\x20d=\x22M223.4,114,54.9,19.7a16.3,16.3,0,0,0-18.2,1.2,15.9,15.9,0,0,0-5.1,17.9l28.1,78.5a4.1,4.1,0,0,0,3.8,2.7h72.2a8.2,8.2,0,0,1,8.3,7.5,8,8,0,0,1-8,8.5H63.5a4.1,4.1,0,0,0-3.8,2.7L31.6,217.2a16.1,16.1,0,0,0,15.1,21.4,16.5,16.5,0,0,0,7.8-2L223.4,142a16.1,16.1,0,0,0,0-28Z\x22/></svg>',
    'updateChatIcons',
    'forEach',
    'left',
    '5269803URqcYs',
    '#0000004a',
    '/chat/get-streaming-response',
    'slice',
    'firstElementChild',
    'classList',
    '.chatbox__send--footer',
    'application/json',
    'target',
    'isClicked',
    'none',
    'stringify',
    'onSendButton',
    'https://app.gpt-trainer.com/img/widget-images/widget-button-open-state/default-chat.svg',
    '60px',
    '#inherit',
    '7fSwLnx',
    '<div\x20class=\x22close__button\x22><svg\x20fill=\x22#E04F5F\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2226\x22\x20height=\x2226\x22\x20viewBox=\x220\x200\x2024\x2024\x22>\x20<g>\x20<path\x20fill=\x22none\x22\x20d=\x22M0\x200h24v24H0z\x22/>\x20<path\x20d=\x22M12\x2022C6.477\x2022\x202\x2017.523\x202\x2012S6.477\x202\x2012\x202s10\x204.477\x2010\x2010-4.477\x2010-10\x2010zm0-11.414L9.172\x207.757\x207.757\x209.172\x2010.586\x2012l-2.829\x202.828\x201.415\x201.415L12\x2013.414l2.828\x202.829\x201.415-1.415L13.414\x2012l2.829-2.828-1.415-1.415L12\x2010.586z\x22/>\x20</g>\x20</svg></div>',
    'inherit',
    'div',
    'querySelector',
    '#3399FF',
    'chat_icon_url',
    'updateHeader',
    '#cdceed',
    'add',
    'toString',
    'syncChatWidgetStyling',
    'baseUrl',
    'setStyle',
    '12DGgNMA',
    'toggleState',
    'floor',
    'querySelectorAll',
    '18nwdUdC',
    '4270518degKSS',
    '.chatbot__suggest--item',
    'icons',
    'args',
  ];
  _0x5b16 = function () {
    return _0x21c243;
  };
  return _0x5b16();
}
class InteractiveChatbox {
  constructor() {
    const _0x4e770a = _0x4697;
    (this['baseUrl'] = _0x4e770a(0x156)),
      (this['getStreamingResponseUrl'] = this['baseUrl'] + _0x4e770a(0x122)),
      (this[_0x4e770a(0x177)] = this[_0x4e770a(0x13c)] + _0x4e770a(0x15a)),
      (this['args'] = {
        openButton: document[_0x4e770a(0x134)]('.chatbox__button'),
        chatbox: document[_0x4e770a(0x134)](_0x4e770a(0x1a2)),
        sendButton: document[_0x4e770a(0x134)](_0x4e770a(0x126)),
        header: document[_0x4e770a(0x134)](_0x4e770a(0x147)),
        message_suggest: document[_0x4e770a(0x134)](_0x4e770a(0x191)),
      }),
      (this[_0x4e770a(0x145)] = {
        isClicked: undefined,
        isNotClicked: undefined,
        iconSend: undefined,
        iconClose: _0x4e770a(0x131),
        iconRefresh: _0x4e770a(0x196),
      }),
      (this[_0x4e770a(0x194)] = ![]),
      (this[_0x4e770a(0x173)] = []),
      (this[_0x4e770a(0x18e)] = this[_0x4e770a(0x185)]());
  }
  [_0x348fd9(0x185)]() {
    const _0x166fb8 = _0x348fd9;
    var _0x64facf = new Date()[_0x166fb8(0x14c)](),
      _0x5d60c1 =
        (typeof performance !== _0x166fb8(0x166) &&
          performance['now'] &&
          performance[_0x166fb8(0x16f)]() * 0x3e8) ||
        0x0;
    return _0x166fb8(0x18c)['replace'](/[xy]/g, function (_0xc3c0ba) {
      const _0x1dd916 = _0x166fb8;
      var _0x377040 = Math[_0x1dd916(0x159)]() * 0x10;
      return (
        _0x64facf > 0x0
          ? ((_0x377040 = (_0x64facf + _0x377040) % 0x10 | 0x0),
            (_0x64facf = Math[_0x1dd916(0x140)](_0x64facf / 0x10)))
          : ((_0x377040 = (_0x5d60c1 + _0x377040) % 0x10 | 0x0),
            (_0x5d60c1 = Math[_0x1dd916(0x140)](_0x5d60c1 / 0x10))),
        (_0xc3c0ba === 'x' ? _0x377040 : (_0x377040 & 0x3) | 0x8)[
          _0x1dd916(0x13a)
        ](0x10)
      );
    });
  }
  async ['display']() {
    const _0x77699e = _0x348fd9,
      {
        openButton: _0x523486,
        chatbox: _0x44229f,
        sendButton: _0x5c9d43,
      } = this[_0x77699e(0x146)];
    await this[_0x77699e(0x13b)](_0x44229f);
    const { iconSend: _0x32ad55 } = this[_0x77699e(0x145)];
    this[_0x77699e(0x14d)](![], _0x523486),
      this[_0x77699e(0x13f)](_0x44229f),
      _0x523486['addEventListener'](_0x77699e(0x16a), () =>
        this[_0x77699e(0x13f)](_0x44229f),
      ),
      _0x5c9d43[_0x77699e(0x170)](_0x77699e(0x16a), () =>
        this[_0x77699e(0x12c)](_0x44229f),
      ),
      (_0x5c9d43['innerHTML'] =
        _0x77699e(0x19c) + _0x32ad55 + _0x77699e(0x163));
    const _0x19d60d = _0x44229f['querySelector'](_0x77699e(0x16c));
    _0x19d60d[_0x77699e(0x170)](_0x77699e(0x17b), ({ key: _0x36967f }) => {
      const _0xf92788 = _0x77699e;
      _0x36967f === _0xf92788(0x179) && this[_0xf92788(0x12c)](_0x44229f);
    });
  }
  async [_0x348fd9(0x13b)](_0x4940e0) {
    const _0x3afa76 = _0x348fd9;
    let _0x2919f7 = new Headers();
    _0x2919f7[_0x3afa76(0x151)](_0x3afa76(0x190), _0x3afa76(0x127));
    const _0x433ef0 = { method: _0x3afa76(0x162), headers: _0x2919f7 };
    try {
      const _0xb4f4cb = await fetch(
        this['getBotWidgetSettingUrl'] +
          '?bot_id=' +
          window[_0x3afa76(0x16b)]['bot_id'],
        _0x433ef0,
      );
      if (!_0xb4f4cb['ok'])
        throw new Error(_0x3afa76(0x15e) + _0xb4f4cb['status']);
      const _0x2a9210 = await _0xb4f4cb[_0x3afa76(0x189)]();
      this[_0x3afa76(0x13d)](_0x2a9210),
        this['updateInitMessage'](_0x2a9210),
        await this[_0x3afa76(0x1a7)](_0x2a9210),
        await this[_0x3afa76(0x17e)](_0x2a9210);
      const _0x1e58e6 = document[_0x3afa76(0x141)](_0x3afa76(0x144));
      _0x1e58e6[_0x3afa76(0x1a8)]((_0x1b9ce0) => {
        const _0x58553f = _0x3afa76;
        _0x1b9ce0?.[_0x58553f(0x170)](_0x58553f(0x16a), (_0x3513ec) =>
          this[_0x58553f(0x1a5)](_0x3513ec, _0x4940e0),
        );
      }),
        this['updateHeader'](_0x2a9210);
    } catch (_0x3a93b9) {
      console[_0x3afa76(0x15b)](_0x3afa76(0x17d), _0x3a93b9);
    }
  }
  [_0x348fd9(0x175)](_0x22d1c1) {
    const _0x4c588f = _0x348fd9,
      { initial_message: _0xb0556b } = _0x22d1c1;
    _0xb0556b &&
      (this[_0x4c588f(0x173)][_0x4c588f(0x188)]([
        { sender_type: _0x4c588f(0x198), content: '' },
        { sender_type: _0x4c588f(0x14a), content: _0xb0556b },
      ]),
      this[_0x4c588f(0x14f)]());
  }
  [_0x348fd9(0x137)](_0x19984b) {
    const _0x1a2a0f = _0x348fd9,
      { header: _0x136381 } = this[_0x1a2a0f(0x146)],
      { iconRefresh: _0x5b6670, iconClose: _0x9dcb1 } = this[_0x1a2a0f(0x145)],
      _0x49cbab = document[_0x1a2a0f(0x155)](_0x1a2a0f(0x133));
    _0x49cbab[_0x1a2a0f(0x157)] = _0x1a2a0f(0x14b);
    if (_0x19984b['bot_avatar_url']) {
      const _0x2fc5c7 = document[_0x1a2a0f(0x155)](_0x1a2a0f(0x15c));
      (_0x2fc5c7['src'] = _0x19984b[_0x1a2a0f(0x176)]),
        (_0x2fc5c7[_0x1a2a0f(0x157)] = _0x1a2a0f(0x193)),
        _0x49cbab['appendChild'](_0x2fc5c7);
    }
    _0x19984b['display_name'] &&
      (_0x49cbab[_0x1a2a0f(0x15d)] += _0x19984b['display_name']),
      _0x136381[_0x1a2a0f(0x195)](_0x49cbab),
      (_0x136381['innerHTML'] +=
        _0x1a2a0f(0x19e) + _0x5b6670 + _0x9dcb1 + '</div>');
  }
  [_0x348fd9(0x1a5)](_0x4bb49f, _0x43d5b6) {
    const _0x5e26a7 = _0x348fd9,
      _0x26eeb4 = _0x4bb49f[_0x5e26a7(0x128)][_0x5e26a7(0x14e)];
    let _0x3e9011 = _0x43d5b6['querySelector']('input');
    (_0x3e9011[_0x5e26a7(0x167)] = _0x26eeb4), this['onSendButton'](_0x43d5b6);
  }
  [_0x348fd9(0x17e)](_0x2bfc5e) {
    const _0x5d7139 = _0x348fd9,
      { suggest_messages: _0x520383 } = _0x2bfc5e,
      { message_suggest: _0xde2d64 } = this[_0x5d7139(0x146)];
    (_0x520383 ?? [])[_0x5d7139(0x1a8)]((_0x40f240) => {
      const _0x45a1f0 = _0x5d7139,
        _0x288517 = document[_0x45a1f0(0x155)](_0x45a1f0(0x133));
      (_0x288517[_0x45a1f0(0x157)] = 'chatbot__suggest--item'),
        (_0x288517[_0x45a1f0(0x14e)] = _0x40f240),
        _0xde2d64[_0x45a1f0(0x195)](_0x288517);
    });
  }
  async [_0x348fd9(0x1a7)](_0xcd31e5) {
    const _0x4b1fe7 = _0x348fd9;
    (this[_0x4b1fe7(0x145)][_0x4b1fe7(0x129)] = document[_0x4b1fe7(0x155)](
      _0x4b1fe7(0x15c),
    )),
      (this[_0x4b1fe7(0x145)][_0x4b1fe7(0x174)] = document[_0x4b1fe7(0x155)](
        _0x4b1fe7(0x15c),
      )),
      (this['icons'][_0x4b1fe7(0x168)] =
        _0x4b1fe7(0x17c) +
        (_0xcd31e5[_0x4b1fe7(0x1a1)]
          ? '\x22' + _0xcd31e5['chat_message_color'] + '\x22'
          : _0x4b1fe7(0x153)) +
        _0x4b1fe7(0x1a6)),
      _0xcd31e5[_0x4b1fe7(0x136)]
        ? ((this[_0x4b1fe7(0x145)][_0x4b1fe7(0x129)]['src'] =
            _0xcd31e5[_0x4b1fe7(0x136)]),
          (this[_0x4b1fe7(0x145)]['isNotClicked'][_0x4b1fe7(0x1a4)] =
            _0xcd31e5[_0x4b1fe7(0x136)]))
        : ((this[_0x4b1fe7(0x145)][_0x4b1fe7(0x129)][_0x4b1fe7(0x1a4)] =
            _0x4b1fe7(0x12d)),
          (this[_0x4b1fe7(0x145)][_0x4b1fe7(0x174)]['src'] = _0x4b1fe7(0x12d)));
  }
  ['setStyle'](_0x4908b8) {
    const _0x33bb7a = _0x348fd9,
      {
        theme: _0x5bb481,
        chat_bubble_button_color: _0x4a4dd9,
        align_chat_bubble_button: _0x144862,
        chat_message_color: _0x158ecb,
        suggest_messages: _0x7ec1cb,
      } = _0x4908b8,
      _0x243779 = window['location'][_0x33bb7a(0x164)]['includes'](
        _0x33bb7a(0x161),
      )
        ? _0x33bb7a(0x15f)
        : '.chatbox__header,.chatbox__support,.messages__item--operator,.messages__item--typing,.messages__item--visitor{border-radius:10px;background:#EDEDED}.chatbox{position:fixed;z-index:100000;bottom:30px;{{chatBoxAlignment}}:30px}.chatbox__support{display:flex;flex-direction:column;z-index:-123456;opacity:0;transition:.5s\x20ease-in-out}.chatbox--active{transform:translateY(-10px);z-index:123456;opacity:1}.chatbox__button{text-align:{{chatButtonAlignment}}}.chatbox__header{position:sticky;top:0;background:orange}.chatbox__messages{margin-top:auto;display:flex;flex-direction:column;overflow-y:auto;flex-direction:column-reverse}.messages__item{width:fit-content;}.messages__item--visitor{margin-right:auto}*{box-sizing:border-box;margin:0;padding:0}*,html{--primaryGradient:linear-gradient(93.12deg,\x20#581B98\x200.52%,\x20#9C1DE7\x20100%);--secondaryGradient:#2a2b4c;--primaryBoxShadow:0px\x2010px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--secondaryBoxShadow:0px\x20-10px\x2015px\x20rgba(0,\x200,\x200,\x200.1);--light:300;--regular:400;--semiBold:600;--extraLight:300;--italic:300;--primary:#581B98}body{font-family:Nunito,sans-serif;font-weight:400;font-size:100%;background:#f1f1f1}.message_avatar{width:40px;height:40px;border-radius:50px;backend:#0B1152;margin-right:5px}.chatbox__support{border-bottom-left-radius:\x2020px;border-bottom-right-radius:\x2020px;background:{{chatBoxBackgroundColor}};height:500px;width:350px;box-shadow:0\x200\x2015px\x20rgba(0,0,0,.1)}.chatbox__header{background:var(--primaryGradient);display:flex;flex-direction:row;align-items:center;justify-content:center;padding:15px\x2020px;box-shadow:var(--primaryBoxShadow)}.chatbox__image--header{margin-right:10px}.chatbox__heading--header{font-size:1.2rem;color:#fff}.chatbox__description--header{font-size:.9rem;color:#fff}.chatbox__messages{height:100%;padding:0\x2010px}.messages__item{margin-top:10px;padding:8px\x2012px;max-width:70%}.messages__item--typing,.message__bot{display:flex;column-gap:5px;align-items:\x20end;}.messages__item--operator{margin-left:auto;background:{{messageItemOperatorBackgroundColor}};color:#fff}.chatbot__suggest{height:{{suggestedMessagesHeight}};white-space:\x20nowrap;display:flex;overflow-x:auto;column-gap:10px;padding:10px\x2010px\x200}.chatbot__suggest--item{height:100%;padding:0\x2015px;display:flex;cursor:pointer;border-radius:10px;align-items:center;background:#EDEDED}.chatbox__footer{position:sticky;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin:10px\x2010px\x2015px;border:1px\x20solid\x20{{chatInputBorderColor}};border-radius:5px;}.chatbox__footer\x20input{background-color:\x20inherit;color:\x20{{chatInputColor}}}.chatbot__header{color:{{chatBoxDisplayNameColor}};height:65px;border-bottom:1px\x20solid\x20{{chatBoxHeaderBorderColor}};padding-top:5px;margin:0\x2020px;text-align:center;align-items:center;display:flex;justify-content:space-between}.bot_avatar{height:25px;width:25px;object-fit:\x20cover}.icon_header{display:flex;align-items:center;cursor:\x20pointer;column-gap:10px;}.chatbox__footer\x20input{border:none;outline:0;padding:10px;border-radius:30px;text-align:left;width:86%;height:80%;font-size:14px}.chatbox__send--footer{color:#fff;cursor:pointer;margin-right:10px}.chatbox__button\x20button,.chatbox__button\x20button:focus,.chatbox__button\x20button:visited{padding:10px;background:{{chatButtonColor}};border:none;outline:0;border-top-left-radius:50px;border-top-right-radius:50px;border-bottom-{{chatButtonDirection}}-radius:50px;box-shadow:0\x2010px\x2015px\x20rgba(0,0,0,.1);cursor:pointer}.messages__item--typing{will-change:transform;width:auto;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom-right-radius:20px;padding:15px\x2020px;display:table;margin-right:auto;position:relative;animation:2s\x20ease-out\x20infinite\x20bulge}.messages__item--typing::after,.messages__item--typing::before{content:\x27\x27;position:absolute;bottom:-2px;left:-2px;height:10px;width:10px;border-radius:50%}.messages__item--typing::after{height:10px;width:10px;left:-10px;bottom:-10px}span.messages__dot{height:8px;width:8px;float:left;margin:0\x201px;background-color:#9e9ea1;display:block;border-radius:50%;opacity:.4;animation:1s\x20infinite\x20blink}@keyframes\x20blink{50%{opacity:1}}@keyframes\x20bulge{50%{transform:scale(1.05)}}',
      _0x24927f = {
        chatButtonAlignment: _0x144862 ?? _0x33bb7a(0x165),
        chatBoxAlignment: _0x144862 ?? _0x33bb7a(0x165),
        chatButtonDirection: _0x144862 === _0x33bb7a(0x1a9) ? 'right' : 'left',
        chatButtonColor: _0x4a4dd9 ?? _0x33bb7a(0x197),
        chatBoxBackgroundColor:
          _0x5bb481 === 'dark' ? _0x33bb7a(0x187) : '#fff',
        chatInputBorderColor:
          _0x5bb481 === _0x33bb7a(0x16e) ? _0x33bb7a(0x138) : _0x33bb7a(0x121),
        chatBoxHeaderBorderColor:
          _0x5bb481 === _0x33bb7a(0x16e) ? '#cdceed' : _0x33bb7a(0x121),
        chatInputColor:
          _0x5bb481 === 'dark' ? _0x33bb7a(0x197) : _0x33bb7a(0x12f),
        chatBoxDisplayNameColor:
          _0x5bb481 === _0x33bb7a(0x16e) ? '#fff' : _0x33bb7a(0x132),
        messageItemOperatorBackgroundColor: _0x158ecb ?? _0x33bb7a(0x135),
        suggestedMessagesHeight: _0x7ec1cb?.[_0x33bb7a(0x152)]
          ? _0x33bb7a(0x12e)
          : '0px',
      },
      _0x2963b5 = document['createElement'](_0x33bb7a(0x154));
    (_0x2963b5[_0x33bb7a(0x14e)] = _0x243779[_0x33bb7a(0x17f)](
      /{{([^}]+)}}/g,
      (_0x10a698, _0x3f78da) => _0x24927f[_0x3f78da],
    )),
      document['head'][_0x33bb7a(0x151)](_0x2963b5);
  }
  [_0x348fd9(0x17a)](_0x2d7290) {
    return new Promise((_0x35a0be) => setTimeout(_0x35a0be, _0x2d7290));
  }
  async ['onSendButton'](_0x7d9ef7) {
    const _0x4ed274 = _0x348fd9;
    let _0x266448 = _0x7d9ef7[_0x4ed274(0x134)](_0x4ed274(0x16c)),
      _0x56bc9c = _0x266448[_0x4ed274(0x167)];
    _0x266448['value'] = '';
    if (_0x56bc9c === '') return;
    this[_0x4ed274(0x173)]['push']([
      { sender_type: _0x4ed274(0x198), content: _0x56bc9c },
      { sender_type: _0x4ed274(0x14a), content: '' },
    ]),
      this[_0x4ed274(0x14f)]();
    let _0x42bb66 = new Headers();
    _0x42bb66['append'](_0x4ed274(0x190), 'application/json');
    const _0x5f04d5 = {
      method: 'POST',
      headers: _0x42bb66,
      body: JSON[_0x4ed274(0x12b)]({
        message: _0x56bc9c,
        session_id: this[_0x4ed274(0x18e)],
        ...window[_0x4ed274(0x16b)],
      }),
    };
    try {
      const _0xb4c1cd = await fetch(this[_0x4ed274(0x172)], _0x5f04d5);
      if (!_0xb4c1cd['ok'])
        throw new Error(_0x4ed274(0x15e) + _0xb4c1cd['status']);
      const _0x1ce6fc = await _0xb4c1cd['body'],
        _0x542f1d = _0x1ce6fc[_0x4ed274(0x1a3)]();
      for await (const _0x53ef05 of this['asyncGenerator'](_0x542f1d)) {
      }
    } catch (_0xacdfd8) {
      console[_0x4ed274(0x15b)](_0x4ed274(0x17d), _0xacdfd8),
        (_0x266448[_0x4ed274(0x167)] = '');
    }
  }
  async *[_0x348fd9(0x182)](_0x40d506) {
    const _0x553890 = _0x348fd9,
      _0x4dd3ea = new TextDecoder();
    while (!![]) {
      const { done: _0x58e95, value: _0x26c78f } =
        await _0x40d506[_0x553890(0x186)]();
      if (_0x58e95) return;
      const _0x1659dc = _0x4dd3ea[_0x553890(0x1a0)](_0x26c78f);
      await this['sleep'](0x32),
        (this[_0x553890(0x173)][_0x553890(0x123)](-0x1)[0x0][0x1][
          _0x553890(0x180)
        ] += _0x1659dc),
        await this[_0x553890(0x14f)]();
    }
  }
  async [_0x348fd9(0x14f)]() {
    const _0x3edc46 = _0x348fd9;
    let _0x546c1e = document[_0x3edc46(0x134)]('.chatbox__messages'),
      _0x1576f5 = '';
    this[_0x3edc46(0x173)][_0x3edc46(0x1a8)]((_0x1a0b2a, _0x49c8ce) => {
      const _0x1538f5 = _0x3edc46;
      !(
        _0x1a0b2a[0x0][_0x1538f5(0x178)] == _0x1538f5(0x198) &&
        !_0x1a0b2a[0x0]['content']
      ) &&
        (_0x1576f5 +=
          _0x1538f5(0x18f) + _0x1a0b2a[0x0][_0x1538f5(0x180)] + '</div>');
      if (
        _0x1a0b2a[0x1][_0x1538f5(0x178)] == _0x1538f5(0x14a) &&
        _0x1a0b2a[0x1][_0x1538f5(0x180)]
      )
        _0x1576f5 +=
          _0x1538f5(0x18b) + _0x1a0b2a[0x1][_0x1538f5(0x180)] + '</div>';
      else _0x1576f5 += _0x1538f5(0x192);
    }),
      (_0x546c1e[_0x3edc46(0x15d)] = '<div>' + _0x1576f5 + '</div>');
  }
  ['closeChatBox']() {
    const _0x418421 = _0x348fd9,
      { chatbox: _0x49b8a9 } = this[_0x418421(0x146)];
    _0x49b8a9[_0x418421(0x154)][_0x418421(0x19f)] = _0x418421(0x12a);
  }
  [_0x348fd9(0x158)]() {
    const _0x5489a8 = _0x348fd9;
    (this[_0x5489a8(0x173)] = []),
      (this[_0x5489a8(0x18e)] = this[_0x5489a8(0x185)]()),
      this['updateChatBox']();
  }
  ['toggleState'](_0x5bd159) {
    const _0x236329 = _0x348fd9;
    (this[_0x236329(0x194)] = !this['state']),
      this['showOrHideChatBox'](_0x5bd159, this['args'][_0x236329(0x19a)]);
  }
  [_0x348fd9(0x19d)](_0x587589, _0xb5a72d) {
    const _0x563c48 = _0x348fd9;
    _0x587589[_0x563c48(0x154)]['display'] =
      _0x587589['style'][_0x563c48(0x19f)] === _0x563c48(0x12a)
        ? ''
        : _0x563c48(0x12a);
    if (this['state'])
      _0x587589[_0x563c48(0x125)][_0x563c48(0x139)](_0x563c48(0x199)),
        this['toggleIcon'](!![], _0xb5a72d);
    else !this[_0x563c48(0x194)] && this['toggleIcon'](![], _0xb5a72d);
  }
  [_0x348fd9(0x14d)](_0x34a970, _0x3d0e5d) {
    const _0x3329cd = _0x348fd9,
      { isClicked: _0x1785d3, isNotClicked: _0x1ff1b0 } =
        this[_0x3329cd(0x145)],
      _0x517456 = document['querySelector']('.close__button');
    _0x517456[_0x3329cd(0x170)](_0x3329cd(0x16a), () =>
      this[_0x3329cd(0x171)](),
    );
    const _0x18e85d = document[_0x3329cd(0x134)]('.refresh__button');
    _0x18e85d[_0x3329cd(0x170)](_0x3329cd(0x16a), () =>
      this[_0x3329cd(0x158)](),
    );
    const _0x1abc1c = _0x3d0e5d[_0x3329cd(0x124)],
      _0x3708b8 = _0x1abc1c['firstElementChild'];
    _0x1abc1c[_0x3329cd(0x18d)](_0x34a970 ? _0x1785d3 : _0x1ff1b0, _0x3708b8);
  }
}
(document[_0x348fd9(0x150)] = document[_0x348fd9(0x155)](_0x348fd9(0x150))),
  (document[_0x348fd9(0x181)][_0x348fd9(0x15d)] += _0x348fd9(0x19b));
const elemDiv = _0x348fd9(0x184);
document[_0x348fd9(0x150)]['innerHTML'] += elemDiv;
const chatbox = new InteractiveChatbox();
chatbox[_0x348fd9(0x19f)]();
